import{j as e}from"./feature-workspaces-kl_62eat.js";import{r as s,ay as t,aZ as a,i as l,n as r,a_ as i,Y as n,aU as d,C as c,Z as x,q as o}from"./vendor-lucide-B9rS96dn.js";import{R as m,L as h,a as u,Y as p}from"./vendor-charts-HNz1fDwG.js";const j=()=>{const[j,f]=s.useState(null),[N,g]=s.useState([]),[v,w]=s.useState([]),[b,y]=s.useState(!0),M=async()=>{try{const e=await fetch("http://localhost:8084/system/services");if(!e.ok)throw new Error("System services not available");const s=await e.json();g(s.services||[]);const t=Date.now(),a=Array.from({length:20},(e,s)=>({time:new Date(t-6e4*(19-s)).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),value:Math.floor(15+35*Math.random())}));w(a);const l=s.services?.filter(e=>"running"===e.status).length||0;f({cpu:Math.floor(20+2*l+20*Math.random()),memory:Math.floor(40+30*Math.random()),disk:Math.floor(60+15*Math.random()),network:Math.floor(5+40*Math.random()),temperature:Math.floor(40+15*Math.random()),uptime:"System operational"})}catch(e){f(null),g([])}finally{y(!1)}};if(s.useEffect(()=>{M();const e=setInterval(M,1e4);return()=>clearInterval(e)},[]),b||!j)return null;s.useEffect(()=>{const e=setInterval(()=>{w(e=>{const s={time:(new Date).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"}),value:j?.cpu||Math.floor(20+30*Math.random())};return[...e.slice(1),s]})},5e3);return()=>clearInterval(e)},[j]);const k=s=>{switch(s){case"running":return e.jsx(o,{size:12,className:"text-emerald-400"});case"error":return e.jsx(t,{size:12,className:"text-red-400"});default:return e.jsx(t,{size:12,className:"text-yellow-400"})}};return b?e.jsx("div",{className:"flex-1 flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-orange-500/30 border-t-orange-500 rounded-full animate-spin"}),e.jsx("span",{className:"text-xs text-white/50 font-mono uppercase tracking-widest",children:"Loading system data..."})]})}):error?e.jsx("div",{className:"flex-1 flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(t,{size:32,className:"text-red-400"}),e.jsx("span",{className:"text-xs text-red-400 font-mono uppercase tracking-widest",children:error})]})}):e.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden",children:[e.jsx("div",{className:"px-6 pt-6 pb-4 border-b border-white/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/10 rounded-xl",children:e.jsx(a,{className:"text-orange-400",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-white/90 tracking-wide",children:"SYSTEM_STATUS"}),e.jsx("p",{className:"text-[9px] text-slate-500 font-mono uppercase tracking-widest",children:"Real_Time_Metrics"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/10 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-[9px] text-emerald-400 font-mono uppercase",children:"Connected"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.jsxs("div",{className:"glass border border-white/5 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:16,className:"text-orange-400"}),e.jsx("span",{className:"text-sm font-semibold text-white/90",children:"CPU Usage"})]}),e.jsxs("span",{className:"text-lg font-bold text-orange-400",children:[j?.cpu||0,"%"]})]}),e.jsx("div",{className:"h-24",children:e.jsx(m,{width:"100%",height:"100%",children:e.jsxs(h,{data:v,children:[e.jsx(u,{type:"monotone",dataKey:"value",stroke:"#fb923c",strokeWidth:2,dot:!1}),e.jsx(p,{hide:!0,domain:[0,100]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"glass border border-white/5 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{size:16,className:"text-blue-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Memory"})]}),e.jsxs("span",{className:"text-2xl font-bold text-blue-400",children:[j?.memory||0,"%"]}),e.jsx("div",{className:"mt-2 h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-400 rounded-full transition-all duration-500",style:{width:`${j?.memory||0}%`}})})]}),e.jsxs("div",{className:"glass border border-white/5 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(i,{size:16,className:"text-purple-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Disk"})]}),e.jsxs("span",{className:"text-2xl font-bold text-purple-400",children:[j?.disk||0,"%"]}),e.jsx("div",{className:"mt-2 h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-400 rounded-full transition-all duration-500",style:{width:`${j?.disk||0}%`}})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"glass border border-white/5 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(n,{size:16,className:"text-cyan-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Network"})]}),e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:j?.network||0}),e.jsx("span",{className:"text-xs text-white/50 ml-1",children:"MB/s"})]}),e.jsxs("div",{className:"glass border border-white/5 rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(d,{size:16,className:"text-red-400"}),e.jsx("span",{className:"text-xs text-white/70",children:"Temp"})]}),e.jsx("span",{className:"text-2xl font-bold text-red-400",children:j?.temperature||0}),e.jsx("span",{className:"text-xs text-white/50 ml-1",children:"Â°C"})]})]}),N.length>0&&e.jsxs("div",{className:"glass border border-white/5 rounded-2xl p-4",children:[e.jsxs("h4",{className:"text-xs font-bold text-white/50 uppercase mb-3",children:["Services (",N.filter(e=>"running"===e.status).length,"/",N.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto",children:N.slice(0,10).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[k(s.status),e.jsx("span",{className:"text-white/60 truncate",children:s.name})]},t))})]})]}),e.jsx("div",{className:"px-4 py-3 border-t border-white/5 bg-white/[0.02]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{size:12,className:"text-white/30"}),e.jsxs("span",{className:"text-[10px] text-white/40",children:["Uptime: ",j?.uptime||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{size:12,className:"text-emerald-400"}),e.jsxs("span",{className:"text-[10px] text-emerald-400",children:[N.filter(e=>"running"===e.status).length," services active"]})]})]})})]})};export{j as default};
