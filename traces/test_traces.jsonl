{"schema_version": "decision_trace_v1", "trace_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82", "start_ts_ms": 1771072882359, "end_ts_ms": 1771072882371, "duration_ms": 12, "route_raw": "standard", "route": "standard", "reasoning_mode": "structured", "safety_mode": "default", "model_selected": null, "context_pack": {"pack_type": "ide", "token_estimate": 2000, "status": "degraded", "errors": ["token_estimate 2300 > cap 2000"]}, "budget": {"planned_total": 3762, "actual_total": 2473, "delta_total": -1289}, "phases": [{"name": "route", "span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_route_0", "start_ts_ms": 1771072882359, "end_ts_ms": 1771072882359, "duration_ms": 0, "budget_planned": 50, "budget_actual": 25, "budget_delta": -25}, {"name": "context_pack", "span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_context_pack_1", "start_ts_ms": 1771072882359, "end_ts_ms": 1771072882371, "duration_ms": 12, "budget_planned": 2048, "budget_actual": 2000, "budget_delta": -48}, {"name": "plan", "span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_plan_2", "start_ts_ms": 1771072882371, "end_ts_ms": 1771072882371, "duration_ms": 0, "budget_planned": 512, "budget_actual": 256, "budget_delta": -256}, {"name": "tools", "span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_tools_3", "start_ts_ms": 1771072882371, "end_ts_ms": 1771072882371, "duration_ms": 0, "budget_planned": 1024, "budget_actual": 128, "budget_delta": -896}, {"name": "render_response", "span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_render_response_4", "start_ts_ms": 1771072882371, "end_ts_ms": 1771072882371, "duration_ms": 0, "budget_planned": 128, "budget_actual": 64, "budget_delta": -64}], "spans": [{"span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_root", "parent_span_id": null, "name": "request", "start_ts_ms": 1771072882359, "end_ts_ms": null, "duration_ms": null, "data": {}}, {"span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_route_0", "parent_span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_root", "name": "route", "start_ts_ms": 1771072882359, "end_ts_ms": 1771072882359, "duration_ms": 0, "data": {}}, {"span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_context_pack_1", "parent_span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_root", "name": "context_pack", "start_ts_ms": 1771072882359, "end_ts_ms": 1771072882371, "duration_ms": 12, "data": {}}, {"span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_plan_2", "parent_span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_root", "name": "plan", "start_ts_ms": 1771072882371, "end_ts_ms": 1771072882371, "duration_ms": 0, "data": {}}, {"span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_tools_3", "parent_span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_root", "name": "tools", "start_ts_ms": 1771072882371, "end_ts_ms": 1771072882371, "duration_ms": 0, "data": {}}, {"span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_render_response_4", "parent_span_id": "e7ba512b-63d9-4fcb-b9d4-6d714a9f6b82_root", "name": "render_response", "start_ts_ms": 1771072882371, "end_ts_ms": 1771072882371, "duration_ms": 0, "data": {}}], "tool_calls_count": 0, "steps": [{"name": "route_determined", "ts_ms": 1771072882359, "data": {"route": "standard", "intent": "test", "confidence": 0.5, "reasoning_mode": "structured"}}, {"name": "context_pack_built", "ts_ms": 1771072882371, "data": {"pack_type": "ide", "token_estimate": 2000}}, {"name": "context_pack_validated", "ts_ms": 1771072882371, "data": {"ok": false, "status": "degraded", "errors": ["token_estimate 2300 > cap 2000"]}}, {"name": "plan_generated", "ts_ms": 1771072882371, "data": {"steps": 1}}, {"name": "tool_executed", "ts_ms": 1771072882371, "data": {"step": "chat_completion", "status": "completed"}}, {"name": "response_built", "ts_ms": 1771072882371, "data": {"tool_calls_count": 1}}]}
